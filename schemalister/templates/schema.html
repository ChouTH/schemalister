{% extends 'base.html' %}

{% block css %}
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
{% endblock %}

{% block content %}
	
	<h1>Salesforce Schema Lister</h1>
	<p>
		See the objects and fields printed below for Org Id: <i>{{ schema.org_id }}</i>
	</p>

	<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">

	    <div class="panel panel-default">

	        <div class="panel-heading" role="tab" id="headingOne">
	            <h4 class="panel-title">
	                <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
	                    Jump to Object
	                </a>
	            </h4>
	        </div>

	        <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
	            <div class="panel-body">
	                <div class="object_link">
	                    <a href="#{{ object.api_name }}">{{ object.label }}</a> | 
	                </div>
	            </div>
	        </div>

	    </div>

	</div>

	{% for object in schema.sorted_objects %}

		<a name="{{ object.api_name }}"></a>
		<h2>{{ object.label }} ({{ object.api_name }})</h2>

		<table class="table table-hover">

			<thead>
				<tr>
					<th width="30%">Field Label</th>
					<th width="30%">API Name</th>
					<th width="30%">Type</th>
				</tr>
			</thead>

			<tbody>

			{% for field in object.sorted_fields %}

				<tr>
					<td>{{ field.label }}</td>
					<td>{{ field.api_name }}</td>
					<td>{{ field.data_type|linebreaks }}</td>
				</tr>

			{% endfor %}

			</tbody>

		</table>

		<br/>

	{% endfor %}

{% endblock %}